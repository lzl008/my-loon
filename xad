#!name = X (Twitter) 去广告
#!desc = 移除时间线、搜索结果及评论区中的推广广告。
#!author = 用户自定义
#!homepage = https://github.com/
#!icon = https://raw.githubusercontent.com/luestr/IconPool/master/App/X.png
#!date = 2025-12-26

[Rule]
# 屏蔽一些广告追踪域名
DOMAIN, ads-api.twitter.com, REJECT
DOMAIN, analytics.twitter.com, REJECT

[Script]
# 匹配时间线 API，使用脚本过滤内容
# 注意：此处的正则表达式需根据 X 的 API 版本更新
http-response ^https?:\/\/.*\.twitter\.com\/1\.1\/(timeline|guides|search\/universal) script-path=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/twitter/twitter.js, requires-body=true, tag=X去广告

[MITM]
hostname = *.twitter.com, *.x.com
